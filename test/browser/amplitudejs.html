<html>
<!--<script src="src/amplitude-snippet.js" type="text/javascript"></script>-->
<script>
    (function(window, document) {
        var amplitude = window.amplitude || {};
        var as = document.createElement('script');
        as.type = 'text/javascript';
        as.async = true;
        as.src = '/amplitude.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(as, s);
        amplitude._q = [];
        function proxy(fn) {
            amplitude[fn] = function() {
                amplitude._q.push([fn].concat(Array.prototype.slice.call(arguments, 0)));
            };
        }

        var funcs = ["init", "logEvent", "logRevenue", "setUserId", "setUserProperties", "setOptOut", "setVersionName", "setDomain", "setGlobalUserProperties"];
        for (var i = 0; i < funcs.length; i++) {
            proxy(funcs[i]);
        }
        window.amplitude = amplitude;
    })(window, document);

    var setUserId = function() {
        var userId = prompt('Input userId', 'user01');
        amplitude.setUserId(userId);
    };
    var setEventUploadThreshold = function() {
        var eventUploadThreshold = parseInt(prompt('Input eventUploadThreshold', 5));
        amplitude.options.eventUploadThreshold = eventUploadThreshold;
    }
    var logEvent = function() {
        var event = prompt('Input event type', 'clicked');
        amplitude.logEvent(event);
    }
    var setCity = function() {
        var city = prompt('Input city', 'San Francisco, CA');
        amplitude.setUserProperties({city: city});
    }
</script>
<script>
    amplitude.init('a2dbce0e18dfe5f8e74493843ff5c053');
    amplitude.setVersionName('Web');
    //amplitude.logEvent('pageLoad');
</script>
<body>
<h3>Amplitude JS Test</h3>
<ul>
    <li><a href="javascript:setUserId();">Set user ID</a></li>
    <li><a href="javascript:amplitude.setOptOut(!amplitude.options.optOut);">Toggle opt out</a></li>
    <li><a href="javascript:logEvent();">Log event</a></li>
    <li><a href="javascript:amplitude.logEvent('clicked button', {color: 'red;', shape: 'triangle', sides: 3});">Log
        event with event properties</a></li>
    <li><a href="javascript:amplitude.setUserProperties({age: 30, city: 'San Francisco, CA'});">Set user properties</a>
    </li>
    <li><a href="javascript:amplitude.options.batchEvents = !amplitude.options.batchEvents;">Toggle batch events</a></li>
    <li><a href="javascript:setEventUploadThreshold();">Set event upload threshold</a></li>
    <li><a href="javascript:amplitude.identify(new amplitude.Identify().add('photoCount', 1));">Increment photo count</a></li>
    <li><a href="javascript:setCity();">Set city via setUserProperties</a></li>
    <li><a href="javascript:amplitude.identify(new amplitude.Identify().unset('photoCount'));">Unset photo count</a></li>
</body>
</html>
